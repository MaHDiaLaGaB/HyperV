# mypy.ini

[mypy]
python_version = 3.12
# Only check your src/ folder
files = src/**/*.py

# Don’t choke on 3rd-party libs you haven’t stubbed
ignore_missing_imports = True
follow_imports = skip

# Use Pydantic support (and add more plugins as you go)
plugins =
    pydantic.mypy
    # sqlalchemy.ext.mypy.plugin

# Don’t enable “strict = True” globally—turn on only the checks you want:
# strict = True

# Instead, pick and choose:
disallow_untyped_defs = False        # you can omit return types for now
disallow_untyped_calls = False       # you can call untyped functions
disallow_incomplete_defs = False     # you can skip annotating some parameters
warn_unused_ignores = True           # catch stale “# type: ignore”
show_error_codes = True              # see which error code to suppress if needed

# Per-module overrides
[mypy-app.services.*]
# You’ll likely want full checking in your own service layer:
disallow_untyped_defs = True
disallow_untyped_calls = True

[mypy-app.repositories.*]
# Maybe be a bit looser in repos while you iron out models/stubs:
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-tests.*]
# Don’t over-enforce in test code
ignore_errors = True
